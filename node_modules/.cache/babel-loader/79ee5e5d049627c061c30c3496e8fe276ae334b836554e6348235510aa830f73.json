{"ast":null,"code":"const BASE_URL = \"http://127.0.0.1:3000\";\nclass Api {\n  constructor({\n    address\n  }) {\n    this.address = address;\n  }\n  _useFetch(token, url, method, body) {\n    return fetch(url, {\n      headers: {\n        authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      method,\n      body: JSON.stringify(body)\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Error: ${res.status}`);\n    });\n  }\n  getUserInfo(token) {\n    return this._useFetch(token, `${BASE_URL}/users/me`, `GET`).then(result => {\n      return result;\n    });\n  }\n}\nexport default Api;\n\n//   getCards(token) {\n//     return this._useFetch(\n//       token,\n//       `${BASE_URL}/cards`,\n//       `GET`\n//     ).then((result) => {\n//       return result;\n//     });\n//   }\n\n//   changeLikeCardStatus(token, cardId, isLiked) {\n//     const method = isLiked ? \"PUT\" : \"DELETE\";\n//     return this._useFetch(\n//       token,\n//       `${BASE_URL}/cards/likes/${cardId}`,\n//       method \n//     ).then((result) => {\n//       return result;\n//     });\n//   }\n\n//   deleteCard(token, cardId) {\n//     return this._useFetch(\n//       token,\n//       `${BASE_URL}/cards/${cardId}`,\n//       `DELETE`\n//     ).then((result) => {\n//       return result;\n//     });\n//   }\n\n//   addNewCard(token, name, link) {\n//     return this._useFetch(\n//       token,\n//       `${BASE_URL}/cards`,\n//       `POST`,\n//       { name: name, link: link }\n//     ).then((result) => {\n//       return result;\n//     });\n//   }\n\n// }\n\n// export default Api;","map":{"version":3,"names":["BASE_URL","Api","constructor","address","_useFetch","token","url","method","body","fetch","headers","authorization","JSON","stringify","then","res","ok","json","Promise","reject","status","getUserInfo","result"],"sources":["C:/Users/shaye/Proyecto_Final/News_Explorer/news-explorer-frontend/src/utils/api.js"],"sourcesContent":["const BASE_URL = \"http://127.0.0.1:3000\";\r\n\r\n\r\nclass Api {\r\n  constructor({ address }) {\r\n    this.address = address;\r\n  }\r\n\r\n  _useFetch(token, url, method, body) {\r\n    \r\n    return fetch(url, {\r\n      headers: {\r\n        authorization: `Bearer ${token}`, \r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      method,\r\n      body: JSON.stringify(body),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Error: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  getUserInfo(token) {\r\n    return this._useFetch(\r\n      token,\r\n      `${BASE_URL}/users/me`,\r\n      `GET`\r\n    ).then((result) => {\r\n      return result;\r\n    });\r\n  }\r\n  }\r\n\r\nexport default Api;\r\n\r\n\r\n//   getCards(token) {\r\n//     return this._useFetch(\r\n//       token,\r\n//       `${BASE_URL}/cards`,\r\n//       `GET`\r\n//     ).then((result) => {\r\n//       return result;\r\n//     });\r\n//   }\r\n\r\n//   changeLikeCardStatus(token, cardId, isLiked) {\r\n//     const method = isLiked ? \"PUT\" : \"DELETE\";\r\n//     return this._useFetch(\r\n//       token,\r\n//       `${BASE_URL}/cards/likes/${cardId}`,\r\n//       method \r\n//     ).then((result) => {\r\n//       return result;\r\n//     });\r\n//   }\r\n\r\n//   deleteCard(token, cardId) {\r\n//     return this._useFetch(\r\n//       token,\r\n//       `${BASE_URL}/cards/${cardId}`,\r\n//       `DELETE`\r\n//     ).then((result) => {\r\n//       return result;\r\n//     });\r\n//   }\r\n\r\n//   addNewCard(token, name, link) {\r\n//     return this._useFetch(\r\n//       token,\r\n//       `${BASE_URL}/cards`,\r\n//       `POST`,\r\n//       { name: name, link: link }\r\n//     ).then((result) => {\r\n//       return result;\r\n//     });\r\n//   }\r\n\r\n// }\r\n\r\n// export default Api;"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,uBAAuB;AAGxC,MAAMC,GAAG,CAAC;EACRC,WAAWA,CAAC;IAAEC;EAAQ,CAAC,EAAE;IACvB,IAAI,CAACA,OAAO,GAAGA,OAAO;EACxB;EAEAC,SAASA,CAACC,KAAK,EAAEC,GAAG,EAAEC,MAAM,EAAEC,IAAI,EAAE;IAElC,OAAOC,KAAK,CAACH,GAAG,EAAE;MAChBI,OAAO,EAAE;QACPC,aAAa,EAAG,UAASN,KAAM,EAAC;QAChC,cAAc,EAAE;MAClB,CAAC;MACDE,MAAM;MACNC,IAAI,EAAEI,IAAI,CAACC,SAAS,CAACL,IAAI;IAC3B,CAAC,CAAC,CAACM,IAAI,CAAEC,GAAG,IAAK;MACf,IAAIA,GAAG,CAACC,EAAE,EAAE;QACV,OAAOD,GAAG,CAACE,IAAI,CAAC,CAAC;MACnB;MACA,OAAOC,OAAO,CAACC,MAAM,CAAE,UAASJ,GAAG,CAACK,MAAO,EAAC,CAAC;IAC/C,CAAC,CAAC;EACJ;EAEAC,WAAWA,CAAChB,KAAK,EAAE;IACjB,OAAO,IAAI,CAACD,SAAS,CACnBC,KAAK,EACJ,GAAEL,QAAS,WAAU,EACrB,KACH,CAAC,CAACc,IAAI,CAAEQ,MAAM,IAAK;MACjB,OAAOA,MAAM;IACf,CAAC,CAAC;EACJ;AACA;AAEF,eAAerB,GAAG;;AAGlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}